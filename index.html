<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CollabSecure - Login</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="loginCard" class="card">
        <h2> Panel de Administraci贸n</h2>
        <form id="loginForm">
            <div class="input-group">
                <label for="user">Usuario</label>
                <input type="text" id="user" required>
            </div>
            <div class="input-group">
                <label for="pass">Contrase帽a</label>
                <input type="password" id="pass" required>
            </div>
            <p id="error" class="error-message"></p>
            <button type="submit">Iniciar Sesi贸n (Login)</button>
        </form>
    </div>

    <script>
        // PEGA AQU TU SCRIPT JAVASCRIPT MODIFICADO
        // Aseg煤rate de que este bloque est茅 al final del body
        // para que todos los elementos HTML se carguen primero.
        
        // Usuarios permitidos
        const USERS = {
            admin: 'duran123',
            ortega: 'ortega123' 
        };

        // Variables de elementos (deben coincidir con los IDs del HTML)
        const loginCard = document.getElementById('loginCard');
        const form = document.getElementById('loginForm');
        const userInput = document.getElementById('user');
        const passInput = document.getElementById('pass');
        const errorEl = document.getElementById('error');

        // Funci贸n para mostrar el login (necesaria para la l贸gica de sesi贸n)
        function showLogin() {
             // Simplemente nos aseguramos de que los campos est茅n limpios al inicio
             passInput.value = '';
             userInput.focus();
        }

        // L贸gica de Mantenimiento de Sesi贸n y Redirecci贸n Inicial
        const savedUser = sessionStorage.getItem('loggedIn');
        if (savedUser) {
            // Si hay un usuario guardado, redirigimos inmediatamente al homepage
            window.location.href = 'homepage.html';
        } else {
            // Si no hay sesi贸n, mostramos el formulario de login (limpiamos campos)
            showLogin();
        }

        // L贸gica de Env铆o del Formulario
        form.addEventListener('submit', function (e) {
            e.preventDefault();
            const user = userInput.value.trim();
            const pass = passInput.value;

            // 1. Validaci贸n de Credenciales
            if (USERS[user] && USERS[user] === pass) {
                // 2. Login Exitoso: Redirecci贸n al homepage
                sessionStorage.setItem('loggedIn', user);
                window.location.href = 'homepage.html'; // Redirecci贸n al homepage
                return;
            } else {
                // 3. Login Denegado: Mensaje de error
                errorEl.textContent = 'Usuario o contrase帽a incorrectos.';
                passInput.value = '';
                passInput.focus();
            }
        });
        
    </script>
</body>
</html>